# Инструкция по установке и использованию утилиты OneBat_AutoClean
Назначение:
Утилита предназначена для автоматической или ручной очистки содержимого указанных папок. Она: удаляет все файлы и подпапки внутри заданных директорий (сами папки остаются),очищает системную корзину, ведёт подробные логи, может работать по расписанию или вручную.
 
# Установка

1.Запустите файл onebatfile.bat от имени администратора:Правый клик → «Запуск от имени администратора».

2.При первом запуске утилита:копирует себя в C:\ProgramData\author_bath,создаёт задачу OneBat_AutoClean в планировщике Windows (ежедневно в 18:00),создаёт ярлык AutoClean на рабочем столе,инициализирует служебные файлы и папку logs.

Все рабочие данные хранятся в:C:\ProgramData\author_bath

Настройка папок для очистки
1.В главном меню выберите пункт [7] Настройка местоудаления.

2.Откроется файл paths.cfg. Укажите в нём папки, которые нужно очищать.

3.Правила:Одна папка — одна строка.Строки, начинающиеся с ::, считаются комментариями.Пути можно писать с кавычками или без.Пробелы допустимы.

4.После редактирования:Нажмите Ctrl+S для сохранения.Закройте окно.

Пример:
:: Папки для очистки C:\Users\ИмяПользователя\Downloads "C:\Program Files\Temp" D:\Рабочие_файлы 

# Главное меню:

[0]	Статус системы		

[1]	Включить автоочистку		

[2]	Отключить автоочистку		

[3]	Запустить очистку вручную		

[4]	Установить автозадачу(18:00)		

[5]	Выход		

[6]	Дополнительно		

[7]	Настройка местоудаления		
 
# Логирование:

logs\summary.log — краткие итоги каждой очистки.

logs\deleted_YYYY-MM-DD_HH-mm.log — список удалённых файлов и папок.

logs\metrics.csv — таблица с датой, количеством, объёмом и свободным местом.

logs\history.log — контрольная подпись очистки.

Если в summary.log указано Обработано: 0, это может означать:

1. Путь в paths.cfg не существует или недоступен.
2. Папка пуста.
3. Путь содержит кириллицу и не был корректно обработан.
4. Очистка была отключена (state.flag = OFF).

# Дополнительные функции:

В подменю [6] Дополнительно доступны:


[1] Удалить задачу автозапуска — удаляет задачу из планировщика.

[2] Установить новое время автозапуска — позволяет задать любое время в формате HH:MM.

[3] Инструкция по управлению — краткая справка прямо в окне.

[4] Назад — возвращает в главное меню.


# Внимание!
Не удаляйте и не редактируйте вручную файлы в C:\ProgramData\author_bath, особенно:
state.flag
install_date.txt
metrics.csv
paths.cfg
onebatfile.bat

Не изменяйте фрагменты кода, отмеченные как авторские метки — они защищают авторство и обеспечивают корректную работу.
Не трогайте блоки очистки, логирования и планировщика — любые изменения могут нарушить работу утилиты.
